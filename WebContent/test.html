<html>
<head>
<link rel="stylesheet" type="text/css" href="ext/resources/css/ext-all.css">
<script type="text/javascript" src="ext/adapter/ext/ext-base.js"></script>
<script type ="text/javascript" src="ext/ext-all.js"></script>
<style type="text/css">
.myclass {
	color: red;
	background: green;
}
</style>
</head>
<body>
<table>
<tr><td valign="top">
<div id="molgenis-query-tree" style="padding:20px"></div>
<br/>
<div id="molgenis-query-selection" style="padding:20px">
</td><td>
<div id="molgenis-query-result"></div></td></tr></table>
<script>
// Path to the blank image must point to a valid location on your server
Ext.BLANK_IMAGE_URL = 'ext/resources/images/default/s.gif';

Ext.onReady(function(){
	alert('loading extjs');

    var tree = new Ext.tree.TreePanel({
        useArrows: true,
        autoScroll: true,
        animate: false,
        enableDD: false,
        containerScroll: true,
        border: false,
        // auto create TreeLoader
        dataUrl: 'test.json',

        root: {
            nodeType: 'async',
            text: 'Ext JS',
            draggable: false,
            id: 'src'
        }/*,

    	listeners: {
        	checkchange: function(n) {
            	Ext.Msg.alert('Navigation Tree Select', 'You clicked: "' + n.attributes.text + '"');
        	}
    	}*/

    });

    // render the tree
    tree.render('molgenis-query-tree');
    tree.getRootNode().expand(); 
    
    var columns = [
                   {id:'company',header: "Company", width: 160, sortable: false, dataIndex: 'company'},
                            ];


               var myData = [
                             
                         ];
    // create the data store
    var store = new Ext.data.ArrayStore({
        fields: [
                 {name: 'company'}
        ]
    });
    store.loadData(myData);

    //setup the empty result grid to be updated based on selections
    var grid = new Ext.grid.GridPanel({
        columns: columns,
        store: store,
        width:540,
        height:200,
        stripeRows: true,
        enableColumnHide: false
    });

    grid.render('molgenis-query-result'); 

     
    /*grid.reconfigure(new Ext.data.SimpleStore({
        fields: ['col1', 'col2', 'col3', 'col4'],
        data: [
          ['col 1 data', 'col 2 data', 'col 3 data', 'col 4 data']
        ]
      }), new Ext.grid.ColumnModel({
        columns: [
          {header: 'Column 1', dataIndex: 'col1'},
          {header: 'Column 2', dataIndex: 'col2'},
          {header: 'Column 3', dataIndex: 'col3'},
          {header: 'Column 4', dataIndex: 'col4'}
        ]
      })
    );*/

	tree.addListener("checkchange", function(n) {
    	Ext.Msg.alert('Navigation Tree Select', 'You clicked: "' + n.attributes.text + '"');

		var selection = tree.getSelectionModel().getSelected();
    	
	});
    

    //grid.render('molgenis-query-result');
    alert("volbracht");

   

    
});
</script>

<div id="mytree" onclick="showQueryTree(this);">
blaat
</div>

</body>
</html>